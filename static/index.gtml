<!DOCTYPE html>
<html lang="en">
    {{ template "head.gtml" "regist.ra.rs" }}
    <body>
	<img src="/img.png" id="fig" />

	<main>
	    <h1 style="font-family: Consolas, Monaco, monospace, monospace;">regist.ra.rs</h1>
            <p id="highl">Upload anything. Max file size is 32MiB</p>

	    <form action="/upload?output=html" method="post" enctype="multipart/form-data" id="upload">
		<div id="paste">
		    <input style="display:none;" name="paste" id="paste-id" value="0"/>
		    <textarea form="upload"
			      name="text"
			      placeholder="Text to upload..."
			      rows="8"
			      id="ttu"></textarea><br/>
		    <input type="submit" value="Submit">
		</div>
		<div id="nopaste">
		    <input type="file" multiple name="files">
		    <input type="submit" value="Submit">
		</div>

		<div id="timeout">
		    <p style="margin: 0.5em">
			If you want your file to delete itself after a
			while, set a timeout below, specifying
			how long it should be served. If unset, or
			this dialog is hidden, the file will not be
			deleted.
		    </p>
		    
		    <input type="number" placeholder="Timeout" name="timeout" id="tov">
		    <select name="tunit">
			<option value="m">Minute(s)</option>
			<option value="h">Hour(s)</option>
			<option value="d">Day(s)</option>
			<option value="w">Week(s)</option>
		    </select>
		</div>
	    </form>

	    <p id="toggle">
		[<span onclick="toggleT()">temp</span>]
		[<span id="paste-button" onclick="toggleP()">paste</span>]
	    </p>

	    <p>
		We guarantee nothing! Every file <em>might</em> be
		deleted, under <em>specific</em> circumstances. Please read
		the <a href="/about#faq">FAQ</a> to find out more.
	    </p>

	    {{ template "nav.gtml" }}
	</main>

	<aside>
	    <b>Note:</b> If you got here from an unexpected email, 
	    or a weird imageboard post, you probably shouldn't trust it.
	</aside>
    </body>
    <script>
     var tod = document.getElementById("timeout"); // timeout dialog
     var paste = document.getElementById("paste");
     var nopaste = document.getElementById("nopaste");
     tod.style.display = paste.style.display = "none";

     function toggleT() {
	 document.getElementById("tov").value = "";
	 tod.style.display = (tod.style.display != "none") ? "none" : "block";
     }

     function toggleP() {
	 document.getElementById("ttu").value = "";
	 paste.style.display = (paste.style.display != "none") ? "none" : "block";
	 nopaste.style.display = (nopaste.style.display != "none") ? "none" : "block";
	 document.getElementById("paste-button").innerHTML =
	     (paste.style.display == "none") ? "paste" : "upload";
	 document.getElementById("paste-id").value =
	     (paste.style.display == "none") ? "" : "paste";
     }
    </script>
</html>
